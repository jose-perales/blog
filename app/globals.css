@import "tailwindcss";

@theme {
  /* Colors */
  --color-background: #0a0a0a;
  --color-background-elevated: #141414;
  --color-background-subtle: #1a1a1a;

  --color-foreground: #e5e5e5;
  --color-foreground-secondary: #a3a3a3;
  --color-foreground-muted: #525252;

  --color-accent: #d4d4d4;
  --color-accent-hover: #fafafa;
  --color-accent-subtle: #404040;

  --color-code-bg: #0d0d0d;
  --color-code-fg: #c9d1d9;

  --color-success: #4ade80;
  --color-error: #f87171;

  /* Spacing */
  --spacing-18: 4.5rem;
  --spacing-22: 5.5rem;
  --spacing-30: 7.5rem;

  /* Font families */
  --font-sans: "Inter", "SF Pro Text", system-ui, sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", "SF Mono", monospace;

  /* Font sizes with line heights */
  --text-xs: 0.75rem;
  --text-xs--line-height: 1rem;
  --text-sm: 0.875rem;
  --text-sm--line-height: 1.25rem;
  --text-base: 1.125rem;
  --text-base--line-height: 1.9125rem;
  --text-lg: 1.25rem;
  --text-lg--line-height: 1.75rem;
  --text-xl: 1.5rem;
  --text-xl--line-height: 2rem;
  --text-2xl: 1.875rem;
  --text-2xl--line-height: 2.4375rem;
  --text-3xl: 2.25rem;
  --text-3xl--line-height: 2.925rem;
  --text-4xl: 3rem;
  --text-4xl--line-height: 3.9rem;

  /* Letter spacing */
  --tracking-tighter: -0.02em;

  /* Max widths */
  --width-content: 42rem;
  --width-wide: 56rem;
  --width-page: 72rem;
}

:root {
  --bg-primary: #0a0a0a;
  --bg-elevated: #141414;
  --bg-subtle: #1a1a1a;
  --fg-primary: #e5e5e5;
  --fg-secondary: #a3a3a3;
  --fg-muted: #525252;
  --accent-primary: #d4d4d4;
  --accent-hover: #fafafa;
  --accent-subtle: #404040;
  --code-bg: #0d0d0d;
  --code-fg: #c9d1d9;
  --success: #4ade80;
  --error: #f87171;

  color-scheme: dark;
}

body {
  margin: 0;
  background-color: var(--bg-primary);
  color: var(--fg-primary);
}

/* Focus visible for keyboard users */
:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}

/* Remove default focus for mouse users */
:focus:not(:focus-visible) {
  outline: none;
}

/* Link focus state: underline + color change */
a:focus-visible {
  color: var(--accent-hover);
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 4px;
}

/* Standard transition for interactive elements */
.transition-default {
  transition-property: color, background-color, border-color, opacity;
  transition-duration: 150ms;
  transition-timing-function: ease;
}

.mdx {
  @apply mx-auto max-w-2xl space-y-6;
}

.mdx h1 {
  @apply text-foreground text-4xl font-semibold tracking-tighter;
}

.mdx h2 {
  @apply text-foreground mt-12 mb-4 text-3xl font-semibold tracking-tighter;
}

.mdx h3 {
  @apply text-foreground mt-8 mb-3 text-2xl font-semibold tracking-tight;
}

.mdx h4 {
  @apply text-foreground mt-6 mb-2 text-xl font-semibold;
}

.mdx p {
  @apply text-foreground-secondary text-base leading-relaxed;
}

.mdx a {
  @apply text-accent hover:text-accent-hover underline underline-offset-4;

  transition-property: color;
  transition-duration: 150ms;
  transition-timing-function: ease;
}

.mdx ul {
  @apply text-foreground-secondary list-disc space-y-2 pl-6;
}

.mdx ol {
  @apply text-foreground-secondary list-decimal space-y-2 pl-6;
}

.mdx li {
  @apply pl-2;
}

.mdx blockquote {
  @apply border-accent-subtle text-foreground-secondary border-l-2 pl-6 italic;
}

.mdx strong {
  @apply text-foreground font-semibold;
}

.mdx code:not([data-language]) {
  @apply bg-code-bg text-code-fg rounded px-1.5 py-0.5 font-mono text-sm;
}

/* Outside of MDX context */
code:not([data-language]):not(.mdx code) {
  @apply bg-code-bg text-code-fg rounded px-1.5 py-0.5 font-mono text-sm;
}

/* rehype-pretty-code */
.mdx figure[data-rehype-pretty-code-figure] {
  @apply bg-code-bg my-8 overflow-hidden rounded-lg;
}

.mdx figure[data-rehype-pretty-code-figure] pre {
  @apply overflow-x-auto p-6 text-sm leading-relaxed;
  background-color: transparent !important;
}

.mdx figure[data-rehype-pretty-code-figure] code {
  @apply font-mono;
  font-size: 0.875rem;
  line-height: 1.7;
}

/* Code block title/filename */
.mdx figure[data-rehype-pretty-code-figure] figcaption {
  @apply border-accent-subtle bg-background-elevated text-foreground-muted border-b px-6 py-3 font-mono text-xs;
}

/* Line highlighting */
.mdx figure[data-rehype-pretty-code-figure] [data-highlighted-line] {
  @apply bg-background-subtle -mx-6 px-6;
}

/* Back-compat with earlier class-based highlighting */
.mdx .line--highlighted {
  @apply bg-background-subtle -mx-6 px-6;
}

.mdx .word--highlighted {
  @apply bg-background-subtle rounded px-1;
}

/* ==========================================================================
   Component Styles
   ========================================================================== */

/* Buttons */
.btn {
  @apply focus-visible:ring-accent-subtle focus-visible:ring-offset-background inline-flex items-center justify-center rounded-md px-6 py-3 text-sm font-medium focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none;
  transition-property: color, background-color, border-color, opacity;
  transition-duration: 150ms;
  transition-timing-function: ease;
}

.btn-ghost {
  @apply text-foreground hover:bg-background-subtle bg-transparent;
}

.btn-solid {
  @apply bg-foreground text-background hover:bg-foreground/90;
}

.btn-sm {
  @apply px-4 py-2 text-sm;
}

/* Form inputs */
.input {
  @apply border-accent-subtle bg-background-elevated text-foreground placeholder:text-foreground-muted focus-visible:border-accent focus-visible:ring-accent w-full rounded-md border px-4 py-3 focus-visible:ring-1 focus-visible:outline-none;
  transition-property: color, background-color, border-color, opacity;
  transition-duration: 150ms;
  transition-timing-function: ease;
}

.input-error {
  @apply border-error focus-visible:border-error focus-visible:ring-error;
}

.label {
  @apply text-foreground-secondary mb-2 block text-sm font-medium;
}

.error-message {
  @apply text-error mt-1 text-sm;
}

/* Cards */
.card {
  @apply bg-background-elevated rounded-lg p-6;
}

.card-interactive {
  @apply bg-background-elevated hover:bg-background-subtle cursor-pointer rounded-lg p-6;
  transition-property: color, background-color, border-color, opacity;
  transition-duration: 150ms;
  transition-timing-function: ease;
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
